<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit" />
<link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../../css/api.css"/>
<link rel="stylesheet" type="text/css" href="../../css/style.css"/>
<link rel="stylesheet" type="text/css" href="../../css/zhu.css"/>
<script type="text/javascript" src="../../script/api.js"></script>

<style>
@import url(https://fonts.googleapis.com/css?family=Comfortaa:400,700,300);
*, html {
  margin: 0;
  padding: 0;
}

body {
  background:#a5d16d;
  text-align: center;
  font-family: 'Comfortaa', cursive;
}

svg {
  width: 10rem;
  height: 10rem;
  margin: 2rem;
  display: inline-block;
}

h1 b {
  font-weight: 700;
}

.made-with-love {
  margin-top: 20px;
  padding: 10px;
  font-size: 10px;
  font-family: arial;
  color: #fff;
}
.made-with-love i {
  font-style: normal;
  color: #F50057;
  font-size: 14px;
  position: relative;
  top: 2px;
}
.made-with-love a {
  color: #fff;
  text-decoration: none;
}
.made-with-love a:hover {
  text-decoration: underline;
}

</style>
</head>

<body>
  <div id="app">
    <section class="aui-content-padded" style="padding-top:10rem">
     <h1> Loading</h1>

<svg version="1.1" id="L2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
<circle fill="none" stroke="#fff" stroke-width="4" stroke-miterlimit="10" cx="50" cy="50" r="48"/>
<line fill="none" stroke-linecap="round" stroke="#fff" stroke-width="4" stroke-miterlimit="10" x1="50" y1="50" x2="85" y2="50.5">
  <animateTransform
       attributeName="transform"
       dur="2s"
       type="rotate"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
</line>
<line fill="none" stroke-linecap="round" stroke="#fff" stroke-width="4" stroke-miterlimit="10" x1="50" y1="50" x2="49.5" y2="74">
  <animateTransform
       attributeName="transform"
       dur="15s"
       type="rotate"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
</line>
</svg>
   <h2> {{status}}</h2>
  </section>

</div>
<script type="text/javascript" src="../../../script/vue.js"></script>
<script type="text/javascript">
var vm = new Vue({
    el: '#app',
    data: {
    status:'wait...',
    },
    methods: {

    }
  });
    apiready = function(){
       console.log('loading2');
        api.parseTapmode();
        api.sendEvent({
                name: 'ask_status',
               });
        // 监听页面消失的时候，关掉页面就可以了
        api.addEventListener({
               name:'closeloading'
           },function(){
               console.log('closeloading');
               api.closeFrame();
           });
        api.addEventListener({
              name:'say_status_loading'
          },function(ret, err){
              console.log(JSON.stringify(ret))
              console.log('122');
              vm.status=ret.value.status;
              if(ret.value.code==0){
                  api.closeFrame();
                  }
              });



    }

</script>

</body>
</html>
